

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Configuration system &mdash; NengoDL documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Extra Nengo objects" href="extra_objects.html" />
    <link rel="prev" title="TensorNodes" href="tensor_node.html" /> 

  

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GT8XEDLTMJ"></script>
<script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());
 gtag('config', 'G-GT8XEDLTMJ');
</script>
<!-- End Google tag (gtag.js) -->

<!-- Matomo -->
<script>
 var _paq = window._paq = window._paq || [];
 _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
 _paq.push(["setCookieDomain", "*.appliedbrainresearch.com"]);
 _paq.push(["setDomains", ["*.appliedbrainresearch.com","*.edge.nengo.ai","*.forum.nengo.ai","*.labs.nengo.ai","*.nengo.ai"]]);
 _paq.push(["enableCrossDomainLinking"]);
 _paq.push(["setDoNotTrack", true]);
 _paq.push(['trackPageView']);
 _paq.push(['enableLinkTracking']);
 (function() {
   var u="https://appliedbrainresearch.matomo.cloud/";
   _paq.push(['setTrackerUrl', u+'matomo.php']);
   _paq.push(['setSiteId', '3']);
   var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
   g.async=true; g.src='//cdn.matomo.cloud/appliedbrainresearch.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
 })();
</script>
<!-- End Matomo Code -->
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> NengoDL
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="frontend.html">User documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="simulator.html">NengoDL Simulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="training.html">Optimizing a NengoDL model</a></li>
<li class="toctree-l2"><a class="reference internal" href="tensor_node.html">TensorNodes</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Configuration system</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#options">Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#trainable">trainable</a></li>
<li class="toctree-l4"><a class="reference internal" href="#planner-sorter-simplifications">planner/sorter/simplifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="#session-config">session_config</a></li>
<li class="toctree-l4"><a class="reference internal" href="#inference-only">inference_only</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lif-smoothing">lif_smoothing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dtype">dtype</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#module-nengo_dl.config">API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="extra_objects.html">Extra Nengo objects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">Additional resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="backend.html">Developer documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="project.html">Project information</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NengoDL</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="frontend.html">User documentation</a> &raquo;</li>
        
      <li>Configuration system</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/config.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="configuration-system">
<h1>Configuration system<a class="headerlink" href="#configuration-system" title="Permalink to this headline">¶</a></h1>
<p>NengoDL uses Nengo’s <a class="reference external" href="https://www.nengo.ai/nengo/config.html">config system</a>
to allow users to control more fine-grained aspects of the simulation.  In
general, most users will not need to worry about these options, and can leave
them at their default settings.  However, these options may be useful in
some scenarios.</p>
<p><a class="reference internal" href="#nengo_dl.config.configure_settings" title="nengo_dl.config.configure_settings"><code class="xref py py-func docutils literal notranslate"><span class="pre">configure_settings()</span></code></a> is a utility function that can be used to set these
configuration options.  It needs to be called within a Network context, as in:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Network</span><span class="p">()</span> <span class="k">as</span> <span class="n">net</span><span class="p">:</span>
    <span class="n">nengo_dl</span><span class="o">.</span><span class="n">configure_settings</span><span class="p">(</span><span class="n">config_option</span><span class="o">=</span><span class="n">config_value</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>Each call to <code class="docutils literal notranslate"><span class="pre">configure_settings</span></code> only sets the configuration
options specified to that call.  That is,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">nengo_dl</span><span class="o">.</span><span class="n">configure_settings</span><span class="p">(</span><span class="n">option0</span><span class="o">=</span><span class="n">val0</span><span class="p">)</span>
<span class="n">nengo_dl</span><span class="o">.</span><span class="n">configure_settings</span><span class="p">(</span><span class="n">option1</span><span class="o">=</span><span class="n">val1</span><span class="p">)</span>
</pre></div>
</div>
<p>is equivalent to</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">nengo_dl</span><span class="o">.</span><span class="n">configure_settings</span><span class="p">(</span><span class="n">option0</span><span class="o">=</span><span class="n">val0</span><span class="p">,</span> <span class="n">option1</span><span class="o">=</span><span class="n">val1</span><span class="p">)</span>
</pre></div>
</div>
<p>Under the hood, <code class="docutils literal notranslate"><span class="pre">configure_settings</span></code> is setting <code class="docutils literal notranslate"><span class="pre">config</span></code> attributes on
the top-level network.  All of the same effects could be achieved by setting
those <code class="docutils literal notranslate"><span class="pre">config</span></code> attributes directly, <code class="docutils literal notranslate"><span class="pre">configure_settings</span></code> simply makes this
an easier process.</p>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h2>
<div class="section" id="trainable">
<span id="config-trainable"></span><h3>trainable<a class="headerlink" href="#trainable" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">trainable</span></code> config attribute can be used to control which parts of a
model will be optimized by the <a class="reference internal" href="simulator.html#nengo_dl.simulator.Simulator.train" title="nengo_dl.simulator.Simulator.train"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Simulator.train()</span></code></a> process.
<code class="docutils literal notranslate"><span class="pre">configure_settings(trainable=None)</span></code> will add a configurable <code class="docutils literal notranslate"><span class="pre">trainable</span></code>
attribute to the objects in a network.  Setting <code class="docutils literal notranslate"><span class="pre">trainable=None</span></code> will use the
default trainability settings, or <code class="docutils literal notranslate"><span class="pre">trainable=True/False</span></code> can be used to
override the default for all objects.</p>
<p>Once the <code class="docutils literal notranslate"><span class="pre">trainable</span></code> attribute has been added to all the objects in a model,
the <code class="docutils literal notranslate"><span class="pre">config</span></code> system can then be used to control the trainability of
individual objects/networks.</p>
<p>For example, suppose we only want to optimize one connection in our network,
while leaving everything else unchanged.  This could be achieved via</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Network</span><span class="p">()</span> <span class="k">as</span> <span class="n">net</span><span class="p">:</span>
    <span class="c1"># this adds the `trainable` attribute to all the trainable objects</span>
    <span class="c1"># in the network, and initializes it to `False`</span>
    <span class="n">nengo_dl</span><span class="o">.</span><span class="n">configure_settings</span><span class="p">(</span><span class="n">trainable</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>

    <span class="n">a</span> <span class="o">=</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Node</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Ensemble</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Node</span><span class="p">(</span><span class="n">size_in</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

    <span class="n">nengo</span><span class="o">.</span><span class="n">Connection</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>

    <span class="c1"># make this specific connection trainable</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Connection</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
    <span class="n">net</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">conn</span><span class="p">]</span><span class="o">.</span><span class="n">trainable</span> <span class="o">=</span> <span class="bp">True</span>
</pre></div>
</div>
<p>Or if we wanted to disable training for some subnetwork:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Network</span><span class="p">()</span> <span class="k">as</span> <span class="n">net</span><span class="p">:</span>
    <span class="n">nengo_dl</span><span class="o">.</span><span class="n">configure_settings</span><span class="p">(</span><span class="n">trainable</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
    <span class="o">...</span>
    <span class="k">with</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Network</span><span class="p">()</span> <span class="k">as</span> <span class="n">subnet</span><span class="p">:</span>
        <span class="n">net</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">subnet</span><span class="p">]</span><span class="o">.</span><span class="n">trainable</span> <span class="o">=</span> <span class="bp">False</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">config[nengo.Ensemble].trainable</span></code> controls both encoders and
biases, as both are properties of an Ensemble.  However, it is possible to
separately control the biases via <code class="docutils literal notranslate"><span class="pre">config[nengo.ensemble.Neurons].trainable</span></code>
or <code class="docutils literal notranslate"><span class="pre">config[my_ensemble.neurons].trainable</span></code>.</p>
<p>There are two important caveats to keep in mind when configuring <code class="docutils literal notranslate"><span class="pre">trainable</span></code>,
which differ from the standard config behaviour:</p>
<ol class="arabic">
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">trainable</span></code> applies to all objects in a network, regardless of whether
they were created before or after <code class="docutils literal notranslate"><span class="pre">trainable</span></code> is set.  For example,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Network</span><span class="p">()</span> <span class="k">as</span> <span class="n">net</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="n">net</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">nengo</span><span class="o">.</span><span class="n">Ensemble</span><span class="p">]</span><span class="o">.</span><span class="n">trainable</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Ensemble</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="o">...</span>
</pre></div>
</div>
<p>is the same as</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Network</span><span class="p">()</span> <span class="k">as</span> <span class="n">net</span><span class="p">:</span>
    <span class="o">...</span>
    <span class="n">a</span> <span class="o">=</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Ensemble</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">net</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">nengo</span><span class="o">.</span><span class="n">Ensemble</span><span class="p">]</span><span class="o">.</span><span class="n">trainable</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="o">...</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">trainable</span></code> can only be set on the config of the top-level network.  For
example,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Network</span><span class="p">()</span> <span class="k">as</span> <span class="n">net</span><span class="p">:</span>
    <span class="n">nengo_dl</span><span class="o">.</span><span class="n">configure_settings</span><span class="p">(</span><span class="n">trainable</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>

    <span class="k">with</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Network</span><span class="p">()</span> <span class="k">as</span> <span class="n">subnet</span><span class="p">:</span>
        <span class="n">my_ens</span> <span class="o">=</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Ensemble</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

        <span class="c1"># incorrect</span>
        <span class="n">subnet</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">my_ens</span><span class="p">]</span><span class="o">.</span><span class="n">trainable</span> <span class="o">=</span> <span class="bp">False</span>

        <span class="c1"># correct</span>
        <span class="n">net</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="n">my_ens</span><span class="p">]</span><span class="o">.</span><span class="n">trainable</span> <span class="o">=</span> <span class="bp">False</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="planner-sorter-simplifications">
<h3>planner/sorter/simplifications<a class="headerlink" href="#planner-sorter-simplifications" title="Permalink to this headline">¶</a></h3>
<p>These options can be used to change the algorithm used for different aspects
of the graph optimization stage.  For example, we could change the planning
algorithm to the <a class="reference internal" href="graph_optimizer.html#nengo_dl.graph_optimizer.transitive_planner" title="nengo_dl.graph_optimizer.transitive_planner"><code class="xref py py-func docutils literal notranslate"><span class="pre">graph_optimizer.transitive_planner()</span></code></a> via</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">nengo_dl.graph_optimizer</span> <span class="kn">import</span> <span class="n">transitive_planner</span>

<span class="k">with</span> <span class="n">nengo</span><span class="o">.</span><span class="n">Network</span><span class="p">()</span> <span class="k">as</span> <span class="n">net</span><span class="p">:</span>
    <span class="n">nengo_dl</span><span class="o">.</span><span class="n">configure_settings</span><span class="p">(</span><span class="n">planner</span><span class="o">=</span><span class="n">transitive_planner</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="session-config">
<h3>session_config<a class="headerlink" href="#session-config" title="Permalink to this headline">¶</a></h3>
<p>TensorFlow has its own <a class="reference external" href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/core/protobuf/config.proto">configuration options</a>
which can control various aspects of the TensorFlow Session.
<code class="docutils literal notranslate"><span class="pre">session_config</span></code> can be used to set those options on the underlying NengoDL
simulator Session.  These are specified as a dictionary mapping config names
to values.  For example, if in TensorFlow we wanted to do</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">config</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">ConfigProto</span><span class="p">()</span>
<span class="n">config</span><span class="o">.</span><span class="n">gpu_options</span><span class="o">.</span><span class="n">allow_growth</span> <span class="o">=</span> <span class="bp">True</span>
<span class="n">sess</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">Session</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>
</pre></div>
</div>
<p>the equivalent in NengoDL would be</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">nengo_dl</span><span class="o">.</span><span class="n">configure_settings</span><span class="p">(</span>
    <span class="n">session_config</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;gpu_options.allow_growth&quot;</span><span class="p">:</span> <span class="bp">True</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="section" id="inference-only">
<h3>inference_only<a class="headerlink" href="#inference-only" title="Permalink to this headline">¶</a></h3>
<p>By default, NengoDL models are built to support both training and inference.
However, sometimes we may know that we’ll only be using a simulation for
inference (for example, if we want to take advantage of the batching/GPU
acceleration of NengoDL, but don’t need the <code class="docutils literal notranslate"><span class="pre">sim.train</span></code> functionality).  In
that case we can improve the simulation speed of the model by omitting some
of the aspects related to training.  Setting
<code class="docutils literal notranslate"><span class="pre">nengo_dl.configure_settings(inference_only=True)</span></code> will cause the network
to be built in inference-only mode.</p>
</div>
<div class="section" id="lif-smoothing">
<h3>lif_smoothing<a class="headerlink" href="#lif-smoothing" title="Permalink to this headline">¶</a></h3>
<p>During training, NengoDL automatically replaces the non-differentiable
spiking <a class="reference external" href="https://www.nengo.ai/nengo/frontend_api.html#nengo.LIF" title="(in Nengo v2.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">LIF</span></code></a> neuron model with the differentiable
<a class="reference external" href="https://www.nengo.ai/nengo/frontend_api.html#nengo.LIFRate" title="(in Nengo v2.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">LIFRate</span></code></a> approximation.
However, although <code class="docutils literal notranslate"><span class="pre">LIFRate</span></code> is generally differentiable, it has a sharp
discontinuity at the firing threshold.  In some cases this can lead to
difficulties during the training process, and performance can be improved by
smoothing the <code class="docutils literal notranslate"><span class="pre">LIFRate</span></code> response around the firing threshold.  This is
known as the <a class="reference internal" href="extra_objects.html#nengo_dl.neurons.SoftLIFRate" title="nengo_dl.neurons.SoftLIFRate"><code class="xref py py-class docutils literal notranslate"><span class="pre">SoftLIFRate</span></code></a> neuron model.</p>
<p><code class="docutils literal notranslate"><span class="pre">SoftLIFRate</span></code> has a parameter <code class="docutils literal notranslate"><span class="pre">sigma</span></code> that controls the degree of smoothing
(<code class="docutils literal notranslate"><span class="pre">SoftLIFRate</span></code> approaches <code class="docutils literal notranslate"><span class="pre">LIFRate</span></code> as <code class="docutils literal notranslate"><span class="pre">sigma</span></code> goes to zero).  Setting
<code class="docutils literal notranslate"><span class="pre">nengo_dl.configure_settings(lif_smoothing=x)</span></code> will cause the <code class="docutils literal notranslate"><span class="pre">LIF</span></code>
gradients to be approximated by <code class="docutils literal notranslate"><span class="pre">SoftLIFRate</span></code> instead of <code class="docutils literal notranslate"><span class="pre">LIFRate</span></code>, with
<code class="docutils literal notranslate"><span class="pre">sigma=x</span></code>.</p>
</div>
<div class="section" id="dtype">
<h3>dtype<a class="headerlink" href="#dtype" title="Permalink to this headline">¶</a></h3>
<p>This specifies the floating point precision to be used for the simulator’s
internal computations.  It can be either <code class="docutils literal notranslate"><span class="pre">tf.float32</span></code> or <code class="docutils literal notranslate"><span class="pre">tf.float64</span></code>,
for 32 or 64-bit precision, respectively.  32-bit precision is the default,
as it is faster, will use less memory, and in most cases will not make a
difference in the results of the simulation.  However, if very precise outputs
are required then this can be changed to <code class="docutils literal notranslate"><span class="pre">tf.float64</span></code>.</p>
</div>
</div>
<div class="section" id="module-nengo_dl.config">
<span id="api"></span><h2>API<a class="headerlink" href="#module-nengo_dl.config" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nengo_dl.config.configure_settings">
<code class="descclassname">nengo_dl.config.</code><code class="descname">configure_settings</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nengo_dl/config.html#configure_settings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nengo_dl.config.configure_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Pass settings to <code class="docutils literal notranslate"><span class="pre">nengo_dl</span></code> by setting them as parameters on the
top-level Network config.</p>
<p>The settings are passed as keyword arguments to <code class="docutils literal notranslate"><span class="pre">configure_settings</span></code>;
e.g., to set <code class="docutils literal notranslate"><span class="pre">trainable</span></code> use <code class="docutils literal notranslate"><span class="pre">configure_settings(trainable=True)</span></code>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>trainable</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool or None</span></dt>
<dd><p class="first last">Adds a parameter to Nengo Ensembles/Connections/Networks that controls
whether or not they will be optimized by <a class="reference internal" href="simulator.html#nengo_dl.simulator.Simulator.train" title="nengo_dl.simulator.Simulator.train"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Simulator.train()</span></code></a>.
Passing <code class="docutils literal notranslate"><span class="pre">None</span></code> will use the default <code class="docutils literal notranslate"><span class="pre">nengo_dl</span></code> trainable settings,
or True/False will override the default for all objects.  In either
case trainability can be further configured on a per-object basis (e.g.
<code class="docutils literal notranslate"><span class="pre">net.config[my_ensemble].trainable</span> <span class="pre">=</span> <span class="pre">True</span></code>.  See <a class="reference external" href="https://www.nengo.ai/nengo-dl/training.html#choosing-which-elements-to-optimize">the documentation</a>
for more details.</p>
</dd>
<dt><strong>planner</strong> <span class="classifier-delimiter">:</span> <span class="classifier">graph planning algorithm</span></dt>
<dd><p class="first last">Pass one of the <a class="reference external" href="https://www.nengo.ai/nengo-dl/graph_optimizer.html">graph planners</a> to change the
default planner.</p>
</dd>
<dt><strong>sorter</strong> <span class="classifier-delimiter">:</span> <span class="classifier">signal sorting algorithm</span></dt>
<dd><p class="first last">Pass one of the <a class="reference external" href="https://www.nengo.ai/nengo-dl/graph_optimizer.html">sort algorithms</a> to change the
default sorter.</p>
</dd>
<dt><strong>simplifications: list of graph simplification functions</strong></dt>
<dd><p class="first last">Pass a list of <a class="reference external" href="https://www.nengo.ai/nengo-dl/graph_optimizer.html">graph simplification functions</a> to change the
default simplifications applied.</p>
</dd>
<dt><strong>session_config: dict</strong></dt>
<dd><p class="first last">Config options passed to <code class="docutils literal notranslate"><span class="pre">tf.Session</span></code> initialization (e.g., to change
the <a class="reference external" href="https://www.tensorflow.org/programmers_guide/using_gpu#allowing_gpu_memory_growth">GPU memory allocation method</a>
pass <code class="docutils literal notranslate"><span class="pre">{&quot;gpu_options.allow_growth&quot;:</span> <span class="pre">True}</span></code>).</p>
</dd>
<dt><strong>inference_only</strong> <span class="classifier-delimiter">:</span> <span class="classifier">bool</span></dt>
<dd><p class="first last">Set to True if the network will only be run in inference mode (i.e.,
no calls to <a class="reference internal" href="simulator.html#nengo_dl.simulator.Simulator.train" title="nengo_dl.simulator.Simulator.train"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Simulator.train()</span></code></a>).  This may result in a small
increase in the inference speed.</p>
</dd>
<dt><strong>lif_smoothing</strong> <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd><p class="first last">If specified, use the smoothed <a class="reference internal" href="extra_objects.html#nengo_dl.neurons.SoftLIFRate" title="nengo_dl.neurons.SoftLIFRate"><code class="xref py py-class docutils literal notranslate"><span class="pre">SoftLIFRate</span></code></a> neuron
model, with the given smoothing parameter (<code class="docutils literal notranslate"><span class="pre">sigma</span></code>),
to compute the gradient for <a class="reference external" href="https://www.nengo.ai/nengo/frontend_api.html#nengo.LIF" title="(in Nengo v2.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">LIF</span></code></a> neurons (as
opposed to using <a class="reference external" href="https://www.nengo.ai/nengo/frontend_api.html#nengo.LIFRate" title="(in Nengo v2.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">LIFRate</span></code></a>).</p>
</dd>
<dt><strong>dtype</strong> <span class="classifier-delimiter">:</span> <span class="classifier"><code class="docutils literal notranslate"><span class="pre">tf.DType</span></code></span></dt>
<dd><p class="first last">Set the floating point precision for simulation values.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nengo_dl.config.get_setting">
<code class="descclassname">nengo_dl.config.</code><code class="descname">get_setting</code><span class="sig-paren">(</span><em>model</em>, <em>setting</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nengo_dl/config.html#get_setting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nengo_dl.config.get_setting" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns config settings (created by <a class="reference internal" href="#nengo_dl.config.configure_settings" title="nengo_dl.config.configure_settings"><code class="xref py py-func docutils literal notranslate"><span class="pre">configure_settings()</span></code></a>).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><dl class="first docutils">
<dt><strong>model</strong> <span class="classifier-delimiter">:</span> <span class="classifier"><a class="reference external" href="https://www.nengo.ai/nengo/backend_api.html#nengo.builder.Model" title="(in Nengo v2.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Model</span></code></a> or             <a class="reference external" href="https://www.nengo.ai/nengo/frontend_api.html#nengo.Network" title="(in Nengo v2.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Network</span></code></a></span></dt>
<dd><p class="first last">Built model or Network containing all the config settings.</p>
</dd>
<dt><strong>setting</strong> <span class="classifier-delimiter">:</span> <span class="classifier">str</span></dt>
<dd><p class="first last">Name of the config option to return</p>
</dd>
<dt><strong>default</strong></dt>
<dd><p class="first last">The default value to return if config option not set</p>
</dd>
</dl>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>Value of ``setting`` if it has been specified, else ``default``.</strong></dt>
<dd></dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="extra_objects.html" class="btn btn-neutral float-right" title="Extra Nengo objects" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tensor_node.html" class="btn btn-neutral" title="TensorNodes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015-2018, Applied Brain Research.
      Last updated on Sep 05, 2018.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  <!-- adapted from sphinx_rtd_theme versions.html -->

<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Versions</span>
        v1.2.0
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            
            
                <dd><a href="../config.html">latest</a></dd>
            

            
                
                    <dd>v1.2.0</dd>
                
            
                
                    <dd><a href="../v1.1.0/config.html">v1.1.0</a></dd>
                
            
                
                    <dd><a href="../v1.0.0/config.html">v1.0.0</a></dd>
                
            
                
                    <dd><a href="../v0.6.2/config.html">v0.6.2</a></dd>
                
            
                
                    <dd><a href="../v0.6.1/config.html">v0.6.1</a></dd>
                
            
                
                    <dd><a href="../v0.6.0/config.html">v0.6.0</a></dd>
                
            
                
                    <dd><a href="../v0.5.2/config.html">v0.5.2</a></dd>
                
            
                
                    <dd><a href="../v0.5.1/config.html">v0.5.1</a></dd>
                
            
                
                    <dd><a href="../v0.5.0/config.html">v0.5.0</a></dd>
                
            
                
                    <dd><a href="../v0.4.0/config.html">v0.4.0</a></dd>
                
            
                
                    <dd><a href="../v0.3.1/config.html">v0.3.1</a></dd>
                
            
                
                    <dd><a href="../v0.3.0/config.html">v0.3.0</a></dd>
                
            
                
                    <dd><a href="../v0.2.0/config.html">v0.2.0</a></dd>
                
            
        </dl>
    </div>
</div>

  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.2.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>